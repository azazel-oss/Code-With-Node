<% layout('layouts/boilerplate') -%>
<h1>Edit Post</h1>
<form
  action="/posts/<%= post.id %>?_method=PUT"
  method="post"
  id="postEditForm"
  enctype="multipart/form-data"
>
  <div>
    <input
      type="text"
      name="post[title]"
      id="title"
      placeholder="Title"
      value="<%= post.title %> "
    />
  </div>
  <div>
    <input
      type="text"
      name="post[price]"
      id="price"
      placeholder="Price"
      value="<%= post.price %> "
    />
  </div>
  <div>
    <input
      type="file"
      name="images"
      multiple
      accept="image/*"
      id="imageUpload"
    />
    <% post.images.forEach((image, i) => { %>
    <div>
      <img src="<%= image.path %> " alt="Surf Board Image" width="200px" />
      <label for="image<%= i %>">Delete?</label>
      <input
        type="checkbox"
        id="image<%= i %>"
        class="imageDeleteCheckbox"
        value="<%= image.filename %> "
        name="deleteImages[]"
      />
    </div>
    <% }) %>
  </div>
  <div>
    <textarea
      name="post[description]"
      placeholder="Description"
      id="description"
      cols="30"
      rows="10"
    >
<%= post.description %>
        </textarea
    >
  </div>
  <div>
    <input
      type="text"
      name="post[location]"
      id="location"
      placeholder="Location"
      value="<%= post.location %> "
    />
  </div>
  <input type="submit" />
</form>
<script src="/javascripts/post-edit.js"></script>
